# iPad Illustration App UI/UX デザイン

## 1. デザイン方針

* 個人用ツールとして **ストレスなく使えることが最優先**。
* グラフィック・アニメーションは最小限でよく、

  * 「迷わないレイアウト」
  * 「押し間違えにくいボタン」
  * 「描いているときに邪魔にならない UI」
    を重視する。
* 片手で iPad を持ち、もう片手で Apple Pencil を持つ運用を想定。
* 基本は電源ボタンが左の状態の **横向き（ランドスケープ）** を標準向きとする。

  * 縦画面で利用するときに、**横向きから配置を変えない。**

---

## 2. 画面構成（大枠）

1. **アプリ開始画面（ホーム）**
2. **キャンバス画面（描画画面）**
3. **キャンバス設定画面（サイズ変更など）**
4. **エクスポート / 共有ダイアログ**
5. **タイムラプス再生画面**

複雑なタブ構成は避け、

* ホーム → キャンバス
* キャンバス → 各種モーダル/シート（設定・エクスポート・タイムラプス）
  というシンプルな階層にする。

---

## 3. 画面別仕様

### 3.1 アプリ開始画面（ホーム）

**用途**: 新規作成・継続作業・入出力系操作の起点。

#### レイアウト案

* 上部：アプリ名 or アイコン（簡素なラベル程度）
* 中央：メインアクションボタン一覧

  * 「新規作成」
  * 「続きから描く」
  * 「インポートする」
  * 「エクスポートする」
  * 「共有する」
  * 「タイムラプスを見る」（最近のキャンバスから）
* 下部：最近使用したキャンバス一覧（サムネイル＋タイトル＋更新日時）

#### 各ボタンの挙動

* **新規作成**

  * → 「キャンバスサイズ選択シート」をモーダル表示
* **続きから描く**

  * → 最近のドキュメント一覧画面（サムネイルグリッド） or 直近の1件を即開く設定もあり
* **インポートする**

  * → ファイルピッカー（写真・ファイル）
  * → 選択した画像を新規キャンバス or 既存キャンバスのレイヤとして開くか選択
* **エクスポートする**

  * → 最近のキャンバス一覧 → 選択 → エクスポートダイアログ
* **共有する**

  * → エクスポート後に iOS の共有シートを開く動線をまとめたラッパ的な扱い

### 3.2 キャンバス画面（描画画面）

**用途**: 実際のイラスト制作の中心となる画面。

#### 基本レイアウト

* 中央：**キャンバスビュー**（PencilKit / Metal）
* 下：フッター（ファイル名、戻るボタンなど）とレイヤパネル（必要に応じて開閉可能）
* 左：ツールバー

  #### 縦画面レイアウト

  * 中央：キャンバスビュー
  * 上：ツールバー
  * 左：サイドバー（ファイル名、戻るボタンなど）とレイヤパネル（必要に応じて開閉可能）

#### ツールバー

* よく使うツールを **常時表示**：

  * ブラシ
  * 消しゴム
  * バケツ
  * カラーパレット（単色+テクスチャ・レインボーやノイズ等特殊）
  * スポイト（長押しジェスチャでも可）
  * 手の平ツール（パン）※PencilKitの挙動と相談
  * 選択ツール（四角、投げ縄）
  * Undo / Redo /（ヒストリー）
* 2段階目の詳細設定はポップオーバーで：

  * ブラシサイズ
  * 不透明度
  * ブラシプリセット（ペン/鉛筆/マーカー など）

#### フッター&レイヤパネル

* 左下：

  * 「＜ ホームに戻る」ボタン
* 中央：

  * 現在のドキュメント名（タップでリネーム）
  * 「キャンバス設定」アイコン（サイズ変更など）
  * 「エクスポート」アイコン
  * 「タイムラプス」アイコン
* 右下：レイヤタブ

- レイヤのリスト（上が上位レイヤ）
- 各レイヤ行には：

  * サムネイル（簡易）
  * 目アイコン（表示/非表示）
  * 不透明度スライダー or タップで詳細
- 操作：

  * ドラッグ＆ドロップで順序入れ替え
  * ＋ボタンでレイヤ追加
  * 長押しでレイヤメニュー（名前変更、複製、削除）
- 必要に応じてレイヤタブはスワイプやボタンで非表示にできる。

#### ジェスチャ（候補）

* ピンチイン・アウト：ズーム
* 2本指ドラッグ：キャンバスのパン
* 2本指タップ：Undo　//不要
* 3本指タップ：Redo　//不要

**重要**: Apple Pencil 使用時は誤タップ防止のため、指の挙動と役割を意識して設計する。

### 3.3 キャンバスサイズ選択（新規作成）

**フロー**: ホーム → 新規作成 → キャンバスサイズ選択

#### UI

* プリセット一覧：

  * A4、B5（縦/横）
  * 正方形（例：2048×2048）
  * 画面サイズ
  * 16:9,4:3(9:16,3:4)
  * SNS向けサイズ（必要になったら追加）
* カスタムサイズ入力欄：

  * 幅 / 高さ（px）
  * DPI（任意、内部的にはレンダリング解像度の参考）

選択後、「作成」ボタンでキャンバス画面へ遷移。

### 3.4 キャンバスサイズ変更（途中で変更したくなった場合）

**フロー**: キャンバス画面 → ヘッダーの「キャンバス設定」 → サイズ変更

#### UI

* 現在のサイズ表示
* 新しいサイズ入力（プリセット or カスタム）
* 変更方法のオプション（重要）：

  * **引き延ばす**（全レイヤを比率維持でスケール）
  * **余白を増やす**（キャンバスを大きくし、既存描画は中央配置）
  * **トリミングする**（指定範囲に切り抜き）

ユーザーがどの挙動になるかを迷わないよう、

* サムネイルイメージや簡単なイラストで挙動を視覚化できるとベター。

### 3.5 エクスポート / 共有

**フロー例**:

1. キャンバス画面で「エクスポート」アイコンをタップ
2. エクスポート設定ダイアログ
3. 保存 or 共有シートへ

#### エクスポート設定

* フォーマット：

  * PNG（透過あり/なし）
  * JPEG
  * webp
  * ai
  * psd
  * tif
* 解像度設定（等倍 / リサイズ）
* 背景：

  * 透過
  * 背景色塗りつぶし

**透過PNGでエクスポート**はワンタップで選べるようにショートカット的なUIを用意すると便利。

#### 保存先

* 写真アプリに保存
* ファイル（iCloud Drive 等）に保存

保存後に、必要なら iOS の共有シート（AirDrop, メールなど）を開く。

### 3.6 タイムラプス（タイムプラス）視聴

**フロー例**:

* ホーム画面：

  * 最近の作品一覧から「タイムラプスを見る」ボタン
* キャンバス画面：

  * ヘッダーに「タイムラプス」アイコン

#### タイムラプス再生画面

* 再生ビュー中央に動画
* 下部に操作：

  * 再生 / 一時停止
  * 再生速度（1x / 2x / 4x）
  * ループ再生 ON/OFF
* 必要であれば「動画として書き出し」ボタン（後から検討）

記録方式は、ストローク単位での記録 or 一定間隔のスナップショットなど、実装都合に合わせて検討。

---

## 4. 主要ユースケースと遷移まとめ

### 4.1 新規作成の流れ

1. アプリ起動 → ホーム
2. 「新規作成」をタップ
3. キャンバスサイズ選択画面でサイズを選択
4. キャンバス画面で描き始める
5. 必要に応じて：

   * レイヤ追加
   * 下絵画像をレイヤとしてインポート
   * キャンバスサイズ変更（引き延ばし / 余白追加 / トリミング）
6. 完成したら：

   * 「エクスポート」→ 透過PNGで出力
7. 後日：

   * ホーム → 対象作品 → 「タイムラプスを見る」で見返す

### 4.2 途中から再開する流れ

1. アプリ起動 → ホーム
2. 「続きから描く」 or 最近の作品リストから選択
3. キャンバス画面が開き、前回の状態から描画再開

---

## 5. イライラを減らすための細かな配慮ポイント

* Undo / Redo は **物理的にも押しやすい位置**（片手持ち＋Pencil運用を意識）
* レイヤの表示/非表示はワンタップで反応し、ラグを感じさせない
* よく使うキャンバスサイズやエクスポート設定は「前回の設定を記憶」する
* 操作の結果が分かりづらい部分（キャンバスサイズ変更など）は、必ずプレビューや簡易図で挙動を示す
* モーダルは最小限にし、**キャンバスを極力隠さない**

---

## 6. 今後詰めたいこと

* レイヤパネルの具体的な幅・開閉アニメーションの有無
* Apple Pencil 使用時の指ジェスチャ制御ポリシー
* タイムラプスの記録方式（ストローク vs スナップショット）
* ホーム画面の「最近の作品」表示数とサムネイル生成のタイミング

これらは実装を進めながら、実際の使用感に合わせて調整していく。
